        
   <html>
		<head>
			<title>FIGURE</title>
			
		 		<!-- add external scripts like jquery and socket.io -->

		        <script src="//code.jquery.com/jquery-1.11.2.min.js"> </script>
				<script type="text/javascript" src="/socket.io/socket.io.js"> </script>
				<script src="/socket.io/socket.io.js"></script>  
			<!--	<script type="text/javascript" src="app.js"></script> -->
				
				<script>  var socket = io(); </script> 	
				
				<script type="text/javascript">

							socket.on('connect', function() {
								console.log("Conducter in the house.");
							});

				</script>	
										<!-- head scripts END -->
				<style>
						@font-face {
					    font-family: nexa;
					    src: url('nexalight.otf');
					}

					div {
					    font-family: nexa;
					    font-size: 20px;
					} 

					body {
						background-color: #777;
						padding-top: 20px;
						padding-left: 20px;
					}

					#perfsBox {
						width: 400px;
						height: 200px;
						/*background-color: #222222;*/
						font-size: 45px;
						padding-top: 6px;
						color:FFFFFF;
						text-align: center;
						margin: 2px;
						display:inline;
					}

					.performerDiv {
						width:50;
						height:50;
						background-color: 000000;
						color: FFFFFF;
						font-size: 40px;
						text-align: center;
						display: inline-block;
						margin: 2px;
					}

				</style>
		</head>
 <body>
 			

			<div id="messages" align="left"> You are the CONDUCTOR, {{user}}! </div> 

			<p>
				{{files}}

			<!--  Make autopropagating performer number boxes  !!!! dammit !!!!!-->
			
			</div>

			<a>  
				<div class="performerDiv" id="p1"> 1 </div> 
				<div class="performerDiv" id="p2"> 2 </div> 
				<div class="performerDiv" id="p3"> 3 </div> 
				<div class="performerDiv" id="pAll" style="font-size:40px;width:90px"> ALL </div> 
			</a>

									<!-- figure  images -->

		<div id="figuresBox" align="center">
		 	<img  src="/assets/play.png"   		  id="hp1"   style="width:167px; height:167">
		 	<img  src="/assets/stop.png"   		  id="hp2"   style="width:167px; height:167">
		 	<p>
		 	<img  src="/assets/figureOne.png"      id="hp3"   style="width:167px; height:167">
		 	<img  src="/assets/figureTwo.png"      	  id="hp4"   style="width:167px; height:167">
		 	<img  src="/assets/figureThree.png"      id="hp5"   style="width:167px; height:167">
		 	<p>
		 	<img  src="/assets/silly.png"         id="hp6"   style="width:167px; height:167">
		</div>	


			<script type="text/javascript">

			var toWhom = 0;  // initialize these globally, used in server and emit to performers
			var toAll = 0;
			var divs = [];


					//for autopropagating perf buttons

			socket.on('performerCount', function (data) {

						// var buttons = document.getElementById("perfsBox");

						// $(buttons).html('');   

						// var x = data;
						
						// for (i = 0; i < x; i++) {

						// console.log("DATA = " + x);

	    	// 			divs.unshift(document.createElement("div"));

	    	// 			$(divs[0]).html(i);
	    				
	    	// 			$(divs[0]).css('height', '50')
	    	// 			$(divs[0]).css('width', '50')
	    	// 			$(divs[0]).css('display', 'inline')
	    	// 			$(divs[0]).css('margin', '5px')
	    	// 			// $(divs[0]).css('padding-left', '5px')
	    	// 			$(divs[0]).css('background-color', '222222')

						// $(divs[0]).attr('id','p' + i);

						// $(buttons).append(divs[0]);
					
 					//  }

 					 // old way of updating performer buttons
					// document.getElementById("checking").innerHTML = "performers: " + perfs.join("  ");  
							
				});

					$(divs[0]).click(function(){

						console.log("haynow");

					}
				);
			 		$(p1).click(function(){

			 			$(p1).fadeTo("fast", 0.5); 
			 			$(p2).fadeTo("fast", 1); 
			 			$(p3).fadeTo("fast", 1);
			 			$(pAll).fadeTo("fast", 1);

			 			$(p1).css('color', 'red');
	 					$(p2).css('color', 'white');
	 					$(p3).css('color', 'white');
	 					$(pAll).css('color', 'white');
 

			 			
			 			toAll = 0;
			 			toWhom = 1;

			 			console.log("one");
			 			socket.emit('sendingTo', toWhom, toAll);
			 			socket.emit('sendingAll', toAll);
			 	}
			 );

			 		$(p2).click(function(){

			 			$(p1).fadeTo("fast", 1); 
			 			$(p2).fadeTo("fast", 0.5); 
			 			$(p3).fadeTo("fast", 1);
			 			$(pAll).fadeTo("fast", 1);

			 			$(p1).css('color', 'white');
	 					$(p2).css('color', 'red');
	 					$(p3).css('color', 'white');
	 					$(pAll).css('color', 'white');


			 			toAll = 0;
			 			toWhom = 2;

			 			console.log("two");
			 			socket.emit('sendingTo', toWhom, toAll);
			 		    socket.emit('sendingAll', toAll);
			 	}
			 );

			 		$(p3).click(function(){

			 			$(p1).fadeTo("fast", 1);
			 			$(p2).fadeTo("fast", 1);
			 			$(p3).fadeTo("fast", 0.5);
			 			$(pAll).fadeTo("fast", 1);

			 			$(p1).css('color', 'white');
	 					$(p2).css('color', 'white');
	 					$(p3).css('color', 'red');
	 					$(pAll).css('color', 'white');


			 			toAll = 0;
			 			toWhom = 3;

			 			
						console.log("three");
			 			socket.emit('sendingTo', toWhom, toAll);
			 		    socket.emit('sendingAll', toAll);
			 		
			 	}
			 );

					$(pAll).click(function(){

						$(p1).fadeTo("fast", 1);
			 			$(p2).fadeTo("fast", 1);
			 			$(p3).fadeTo("fast", 1);
			 			$(pAll).fadeTo("fast", 0.5);

			 			$(p1).css('color', 'white');
	 					$(p2).css('color', 'white');
	 					$(p3).css('color', 'white');
	 					$(pAll).css('color', 'red');

						toWhom = 0;
			 			toAll = 1;

			 			
						console.log("three");
			 			socket.emit('sendingTo', toWhom, toAll);
			 			socket.emit('sendingAll', toAll);
			 	}
			 );

			// figure button functionality

			 	$(hp1).click(function(){

			 		$(hp1).fadeTo("slow", 0.5, function() {

			 		});

			 		console.log("station");
			 		socket.emit('imageFigure', "/assets/play.png");
			 	}
			 );

				$(hp2).click(function(){
			 		console.log("metal");
			 		socket.emit('imageFigure', "/assets/stop.png");
			 	}
			  );

				$(hp3).click(function(){
			 		console.log("charmy");
			 		socket.emit('imageFigure', "/assets/figureOne.png");
			 	}
			  );

				$(hp4).click(function(){
			 		console.log("candy");
			 		socket.emit('imageFigure', "/assets/figureTwo.png");
			 	}
			  );

				$(hp5).click(function(){
			 		console.log("tacet");
			 		socket.emit('imageFigure', "/assets/figureThree.png");
			 	}
			  );

				$(hp6).click(function(){
			 		console.log("tacet");
			 		socket.emit('imageFigure', "/assets/silly.png");
			 	}
			  );

		

			</script>
 
 	</body>

</html>